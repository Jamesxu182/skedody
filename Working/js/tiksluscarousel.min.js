(function(a){var b=function(m,v){var h=a(m);var e=this;var x={current:1,prev:"&laquo;",next:"&raquo;",type:"slide",autoplayInterval:10000,animationInterval:800,dotRatio:0.02,loader:"ajax-loader.gif",customAnimationClassIn:"",customAnimationClassOut:"",customAnimationCaption:"",captionAnimationInterval:100,captionFontRatio:0.15,width:0,height:0,nav:"dots",navIcons:true};v=a.extend(x,v);var r=v.current;var G=h.find("li").length;var z;var f;var N=false;var n=["slide","rotate","zoom","dots","thumbnails"];var u;h.find("ul").addClass("carousel");var B=h.find("ul.carousel");B.find("img").addClass("tslider");var d=B.find("li:first").width();B.hide();h.append("<p class='preload'><img src='"+v.loader+"' border=0/>Loading Images</p>");h.find(".preload").css({position:"absolute",top:"48%",left:"35%",backgroudColor:"#fff",textAlign:"center",color:"#000",padding:"0.5em"}).show();var s=function(){var P=h.find("ul.carousel").find("li");P.each(function(){if(a(this).find("img").attr("caption")){var Q=a(this).find("img").attr("caption");a(this).append("<div class='caption'></div>");a(this).find(".caption").css({left:a(this).position().left+a(this).width()+a(this).find(".caption").width()+"px",width:100/G+"%","word-wrap":"break-word"}).html(Q).hide()}})};var g=function(T){var Q=h.find("li:nth-child("+T+")");var S=Q.find(".caption");var P=100/G;if(S.hasClass("animated")){S.removeClass("animated").removeClass(v.customAnimationCaption)}if(v.customAnimationCaption!=""){var R=Q.position().left;Q.find(".caption").css({left:R+"px",fontSize:h.width()*v.captionFontRatio+"%"});Q.find(".caption").addClass(v.customAnimationCaption).addClass("animated").show()}else{Q.find(".caption").css({left:101+"%",fontSize:h.width()*v.captionFontRatio+"%"}).show().animate({left:(v.current*P-P)+"%"},1500)}};var F=function(P){if(P.requestFullscreen){P.requestFullscreen()}else{if(P.webkitRequestFullscreen){P.webkitRequestFullscreen()}else{if(P.mozRequestFullScreen){P.mozRequestFullScreen()}else{if(P.msRequestFullscreen){P.msRequestFullscreen()}}}}h.find(".op .fullscreenbutton").addClass("exit_fullscreenbutton");h.addClass("fullscreen");h.find(".block").remove();B.find(".tslider").css({maxWidth:"100%"});h.find(".thumbnails_wrapper").addClass("fullscreen_thumbnails")};var w=function(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}}}}if(h.hasClass("fullscreen")){J();h.removeClass("fullscreen");h.find(".thumbnails_wrapper").removeClass("fullscreen_thumbnails");h.find(".op .fullscreenbutton").removeClass("exit_fullscreenbutton")}};var c=function(R){if(R==v.current){return false}if(v.customAnimationClassIn!=""||v.customAnimationClassOut!=""){var P=B.find("li:nth-child("+v.current+")");var Q=B.find("li:nth-child("+R+")");Q.css({left:0,display:"block"});P.removeClass().addClass("animated").addClass(v.customAnimationClassOut);setTimeout(function(){P.hide();Q.removeClass().addClass("animated").addClass(v.customAnimationClassIn)},1000)}else{P.fadeOut("fast");Q.fadeIn("slow")}v.current=R;if(v.current>G){v.current=1}o();l()};var I=function(Q){var P=B.find("li:nth-child("+v.current+")");var R=B.find("li:nth-child("+Q+")");P.fadeOut("fast");R.fadeIn("slow");v.current=Q;if(v.current>G){v.current=1}o();l()};var O=function(){h.find("ul.carousel>li").css({ken:0,"-webkit-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)"});h.find("li").stop(true,false);window.clearInterval(u);B.stop(true,false)};var M=function(R){B.stop();B.find("> li").show();var P=B.find("li:nth-child("+R+")");P.fadeIn("fast");var Q=(Math.random()*1)+1;P.css({ken:1});P.animate({ken:Q},{start:function(){},step:function(S,T){a(this).css({"-webkit-transform":"scale("+S+")",transform:"scale("+S+")","-ms-transform":"scale("+S+")"})},duration:v.autoplayInterval/2,complete:function(){P.animate({ken:1},{step:function(S,T){a(this).css({"-webkit-transform":"scale("+S+")",transform:"scale("+S+")","-ms-transform":"scale("+S+")"})},duration:v.autoplayInterval/3,complete:function(S,T){P.css({ken:0});h.find("ul.carousel > li").css({"-webkit-transform":"scale(1)",transform:"scale(1)","-ms-transform":"scale(1)"})}})}});i(R)};var H=function(){var P=h.find(".progress");var Q=P.width();P.stop().animate({width:h.width()},v.autoplayInterval,function(){k()})};var k=function(){var P=h.find(".progress");P.css({width:0})};var C=function(){var P=h.find(".progress");P.stop(true,false)};var i=function(S){var P=B.find("li:nth-child("+(S)+")");if(v.current==S){return false}var R=(S*100)-100;R=R*-1;var Q=P.find("img").attr("caption");a(".caption").hide();B.stop(true,true).animate({left:R+"%"},v.animationInterval);o();l()};this.scrollTo=function(Q){if(N==true){return false}Q=parseInt(Q);k();O();var P=B.find("li:nth-child('"+Q+"')");H();switch(v.type){case"slide":i(Q);break;case"rotate":I(Q);break;case"custom":c(Q);break;case"zoom":M(Q);break;default:I(Q)}setTimeout(function(){g(Q)},v.captionAnimationInterval*v.current);v.current=Q;if(v.current>G){v.current=G}t();E();u=setInterval(y,v.autoplayInterval);D()};var p=function(){var P=v.current+1;if(P>G){P=1}e.scrollTo(P)};var L=function(){var P=v.current-1;if(P<1){P=1}e.scrollTo(P)};var y=function(){var P=v.current+1;if(P>G){P=1}e.scrollTo(P)};var l=function(){if(v.nav=="dots"){z.find(".nav").removeClass("selected");z.find(".nav:nth-child("+(v.current+1)+")").addClass("selected")}};var o=function(){if(v.current<=1){h.find(".nav_left").hide();return false}if(v.current>=G){h.find(".nav_right").hide();return false}h.find(".nav_left").show();h.find(".nav_right").show()};var J=function(){if(v.width>0){h.css({"max-width":v.width+"px"});B.find("img").css({"max-width":v.width+"px",width:"100%",height:"auto"})}};var E=function(){h.find(".stats").html(v.current+" of "+G)};var K=function(Q){var S=Q;var R=S.find(".thumbnails");var P=R.find("li:first").width();S.scrollLeft(R.outerWidth());S.bind("mousemove",function(W){var T=S.width();var U=R.outerWidth()+2*P;var V=(W.pageX-S.offset().left)*(U-T)/T-P;S.scrollLeft(V)})};var t=function(){var R=h.find(".nav_left");var Q=h.find(".nav_right");if(v.current<=1){R.hide()}else{R.show()}if(v.current>=G){Q.hide()}else{Q.show()}if(v.navIcons==true){Q.find("span").hide();R.find("span").hide();if(!Q.hasClass("navIcons")){Q.addClass("navIcons")}if(!R.hasClass("navIcons")){R.addClass("navIcons")}if(v.current<G){var P=parseInt(v.current)+1;if(!Q.hasClass("navIcons_next")){Q.addClass("navIcons_next")}Q.html("").append(B.find("li:nth-child("+(P)+")").html());Q.find("img.tslider").removeClass("tslider")}if(v.current>1){var S=parseInt(v.current-1);if(!R.hasClass("navIcons_prev")){R.addClass("navIcons_prev")}R.html("").append(B.find("li:nth-child("+(S)+")").html());R.find("img.tslider").removeClass("tslider")}}};var A=function(R,Q){var P=h.find(".msg");P.html("");switch(Q){case"info":P.html(R).removeClass().addClass("msg").addClass("info");break;case"error":P.html(R).removeClass().addClass("msg").addClass("error");break;default:P.html(R).removeclass().addClass("msg").addClass("info")}P.css({top:0}).slideDown("fast")};var D=function(){h.find(".msg").hide().css({top:"-100px"})};var q=function(){J();h.addClass("tiksluscarousel").css({position:"relative",height:"auto"});B.css({width:100*G+"%",height:"100%"});B.find("li").css({width:100/G+"%",height:"100%"});h.append("<div class='progress'></div>");if(v.nav=="dots"){h.append("<div class='slider_nav'><ul></ul></div>");z=h.find(".slider_nav");for(var Q=0;Q<G;Q++){h.find(".slider_nav").append("<div class='nav'></div>");h.find(".slider_nav").find(".nav").css({width:h.width()*v.dotRatio+"px",height:h.width()*v.dotRatio+"px"})}var P=h.find(".slider_nav");P.css("right","1%")}h.append("<div class='msg'></div>");h.append("<div class='nav_left'><span>"+v.prev+"</span></div><div class='nav_right'><span>"+v.next+"</span></div>");h.append("<div class='op'><div class='stats'></div><ul><li><a href='#' class='fullscreenbutton responsive_img'></a></li><li><a href='#' class='pausebutton responsive_img'></a></li></ul></div>");if(v.current>G||v.current<0){v.current=1;r=1;A("Invalid <b>Current</b> value. Reset to 1","error")}if(a.inArray(v.type,n)<=-1){A("Invalid <b>type</b> value. Reset to <b>rotate</b>","error")}if(a.inArray(v.nav,n,4)<=-1){A("Invalid <b>nav</b> value. Must be <b>dots</b> or <b>thumbnails</b>","error")}if(isNaN(v.animationInterval)||v.animationInterval<=0){A("Invalid <b>animationInterval</b> value. Must be > 0","error")}if(isNaN(v.dotRatio)||(v.dotRatio<0.01&&v.dotRatio>0.1)){A("Invalid <b>dotRatio</b> value. Must be > 0.01 and < 0.1","error")}if(isNaN(v.captionFontRatio)||(v.captionFontRatio<0.1&&v.captionFontRatio>1)){A("Invalid <b>captionFontRatio</b> value. Must be >= 0.1 and <= 1","error")}if(isNaN(v.width)||v.width<0){A("Invalid <b>width</b> value. Must be >= 0","error")}if(isNaN(v.height)||v.height<0){A("Invalid <b>height</b> value. Must be > 0","error")}if(isNaN(v.captionAnimationInterval)||v.captionAnimationInterval<=0){A("Invalid <b>captionAnimationInterval</b> value. Must be > 0","error")}if(v.autoPlayInterval<=0){A("Invalid <b>autoPlayInterval</b> value. Must be > 0","error")}a(".slider_nav").hide();B.find("img").each(function(S){var T=new Image();T.src=a(this).attr("src");T.onload=function(){}});h.find(".preload").remove();if(v.nav=="thumbnails"){h.append("<div class='thumbnails_wrapper'><ul class='thumbnails'></ul></div>");var R=h.find(".thumbnails_wrapper .thumbnails");B.find("li").each(function(T){f=d/10;R.append("<li class='thumb list_"+T+"' num='"+(T+1)+"'><a href='#' class='athumb'>"+a(this).html()+"</a></li>");var S=h.find(".thumbnails .thumb:eq("+T+")");S.css({width:f+"px",display:"block"});S.find("img").removeClass("tslider").addClass("responsive_img");R.css({width:G*f+f+"px"})})}B.show();a(".slider_nav").show();s();if(v.current>=1){if(v.type=="slide"){B.css({left:((r*100)-100)*-1+"%"})}else{h.find("ul.carousel >li").hide();h.find("ul.carousel >li:nth-child("+r+")").fadeIn("fast")}}l();o();g(v.current);K(h.find(".thumbnails_wrapper"));t();E();u=setInterval(y,v.autoplayInterval);H()};q();if(v.nav=="dots"){z.find(".nav").click(function(Q){var P=a(this).parent().children().index(this);e.scrollTo(P)})}h.find(".nav_left").click(function(P){if(v.current==1){return false}N=false;h.find(".op .resumebutton").removeClass("resumebutton").addClass("pausebutton");e.scrollTo(v.current-1)});h.find(".nav_right").click(function(P){if(v.current==G){return false}N=false;h.find(".op .resumebutton").removeClass("resumebutton").addClass("pausebutton");e.scrollTo(parseInt(v.current+1))});h.find(".tslider").click(function(Q){var P=h.width()/2;if(Q.pageX<=P){if(v.current>1){e.scrollTo(v.current-1)}}if(Q.pageX>=P){if(v.current<G){e.scrollTo(v.current+1)}}});h.find(".tslider").mouseenter(function(P){h.find(".op").fadeIn("fast");if(v.navIcons==true){h.find(".nav_right").stop().animate({right:0,opacity:1},1000);h.find(".nav_left").stop().animate({left:0,opacity:1},1000)}}).mouseleave(function(P){if(P.relatedTarget.tagName=="a"||P.relatedTarget.tagName=="A"){P.preventDefault()}else{h.find(".op").fadeOut("fast")}if(v.navIcons==true){h.find(".nav_right").stop().animate({right:-20,opacity:0.8},1000);h.find(".nav_left").stop().animate({left:-20,opacity:0.8},1000)}});h.find(".op  .fullscreenbutton").click(function(Q){Q.preventDefault();var P=a(this);if(P.hasClass("fullscreenbutton")){if(h.hasClass("fullscreen")){w()}else{F(m)}}});h.find(".op .pausebutton, .op .resumebutton").click(function(Q){Q.preventDefault();var P=a(this);if(P.hasClass("pausebutton")){P.addClass("resumebutton").removeClass("pausebutton");N=true;C();window.clearInterval(u);A("Paused","info");return}if(P.hasClass("resumebutton")){u=setInterval(y,v.autoplayInterval);H();N=false;D();P.addClass("pausebutton").removeClass("resumebutton");return}});h.find(".thumbnails li a").click(function(Q){Q.preventDefault();var P=parseInt(a(this).closest("li.thumb").attr("num"));N=false;h.find(".op .resumebutton").removeClass("resumebutton").addClass("pausebutton");e.scrollTo(P)});function j(){var P=((typeof document.webkitIsFullScreen)!=="undefined")?document.webkitIsFullScreen:document.mozFullScreen;if(!P){if(h.hasClass("fullscreen")){J();h.removeClass("fullscreen");h.find(".thumbnails_wrapper").removeClass("fullscreen_thumbnails");h.find(".op .fullscreenbutton").removeClass("exit_fullscreenbutton")}}else{}}a(window).resize(function(){h.find(".caption").css({fontSize:h.width()*v.captionFontRatio+"%"});h.find(".slider_nav .nav").css({width:h.width()*v.dotRatio+"px",height:h.width()*v.dotRatio+"px"});j()})};a.fn.tiksluscarousel=function(c){return this.each(function(){var d=a(this);if(d.data("tiksluscaraousel")){return}var e=new b(this,c);d.data("tiksluscaraousel",e)})}})(jQuery);